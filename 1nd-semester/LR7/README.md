# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 7 –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ¬´–°—á–µ—Ç—á–∏–∫¬ª –Ω–∞ Python

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: [–ø–µ—Ä–µ–π—Ç–∏](https://github.com/BlohinaValeria/counter-deploy)

–î–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è
–ó–∞–¥–∞–Ω–∏–µ 
–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å / –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç –æ –µ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.
–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å / –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ play with docker (https://labs.play-with-docker.com/).
–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å / –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω–æ –Ω–∞ –º–∞—à–∏–Ω–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º —Å —É—á–µ—Ç–æ–º —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∫–∞—Ç–∞–ª–æ–≥–∞, –∫—É–¥–∞ –±—É–¥–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.  –£—á–µ—Å—Ç—å, —á—Ç–æ –Ω–∞ —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –¥–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã, —Ç.–µ. –Ω–∞–¥–æ –º–µ–Ω—è—Ç—å –ø–æ—Ä—Ç—ã, –ø–∞–ø–∫—É –¥–ª—è –¥–µ–ø–ª–æ—è –∏ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–ª–∏—á–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥—É).
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏ –¥–µ–ø–ª–æ–π Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CI. 

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ:
–°—á—ë—Ç—á–∏–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 0
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–º–µ–Ω—å—à–∏—Ç—å —Å—á—ë—Ç—á–∏–∫, –µ—Å–ª–∏ –æ–Ω —Ä–∞–≤–µ–Ω 0:
—Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 400 –≤ –æ—Ç–≤–µ—Ç–µ JSON —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ

–ü—Ä–∏–º–µ—Ä:

{
  "error": "Counter cannot be negative"
}
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å)
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Ç–µ—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pytest:
–¢–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Ä–∞–≤–Ω–æ 0
–¢–µ—Å—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ /increment –∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1
–¢–µ—Å—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–º–µ–Ω—å—à–∏—Ç—å —Å—á—ë—Ç—á–∏–∫ –Ω–∏–∂–µ 0 —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É

üìå Redis –º–æ–∂–Ω–æ:
–ª–∏–±–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ;
–ª–∏–±–æ –º–æ–∫–∞—Ç—å —á–µ—Ä–µ–∑ fakeredis (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏).

CI/CD –≤ GitHub Actions workflow –¥–æ–ª–∂–µ–Ω:
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ main

–í—ã–ø–æ–ª–Ω—è—Ç—å:
—É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–∑–∞–ø—É—Å–∫ pytest
–ü—Ä–µ—Ä—ã–≤–∞—Ç—å –¥–µ–ø–ª–æ–π, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—à—ë–ª

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç—Ç–∞–ø–æ–≤:
checkout ‚Üí setup python ‚Üí install deps ‚Üí run tests ‚Üí deploy
‚ö†Ô∏è –†–µ–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π: sync –Ω–∞ —Å–µ—Ä–≤–µ—Ä. 
```
backend/
 ‚îú‚îÄ‚îÄ app.py
 ‚îú‚îÄ‚îÄ requirements.txt
 ‚îú‚îÄ‚îÄ tests/
 ‚îÇ    ‚îî‚îÄ‚îÄ test_counter.py
 ‚îî‚îÄ‚îÄ redis_client.py
.github/
 ‚îî‚îÄ‚îÄ workflows/
      ‚îî‚îÄ‚îÄ deploy.yml
```

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (—Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è) —Å –¥–µ–º–æ –∏ –æ—Ç—á–µ—Ç–æ–º –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã. 

## –ü–æ–ª—É—á–∏–ª–æ—Å—å:

![](https://github.com/BlohinaValeria/Programming-3nd-course-/blob/main/1nd-semester/LR7/–∑–∞–ø—É—Å–∫%20.png)

## –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
1. –ù–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

![](https://github.com/BlohinaValeria/Programming-3nd-course-/blob/main/1nd-semester/LR7/—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.png)
  
2. –ù–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Ç–µ—Å—Ç—ã

![](https://github.com/BlohinaValeria/Programming-3nd-course-/blob/main/1nd-semester/LR7/—Ç–µ—Å—Ç—ã.png)


